/*!
 FixedColumns 3.2.0
 Â©2010-2014 SpryMedia Ltd - datatables.net/license
*/

(function(e){"function"==typeof define&&define.amd?define(["jquery","table"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){t||(t=window);if(!n||!n.fn.dataTable)n=require("table")(t,n).$;return e(n,t,t.document)}:e(jQuery,window,document)})(function(e,t,n,r){var i=e.fn.dataTable,s=function(t,n){var i=this;if(this instanceof s){if(n===r||!0===n)n={};var o=e.fn.dataTable.camelToHungarian;o&&(o(s.defaults,s.defaults,!0),o(s.defaults,n)),o=(new e.fn.dataTable.Api(t)).settings()[0],this.s={dt:o,iTableColumns:o.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};if(o._oFixedColumns)throw"FixedColumns already initialised on this table";o._oFixedColumns=this,o._bInitComplete?this._fnConstruct(n):o.oApi._fnCallbackReg(o,"aoInitComplete",function(){i._fnConstruct(n)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return e.extend(s.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight,e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(t){var n=this.s.dt.oInstance;if(e(t).parents(".DTFC_Cloned").length){if("tr"===t.nodeName.toLowerCase())return t=e(t).index(),n.fnGetPosition(e("tr",this.s.dt.nTBody)[t]);var r=e(t).index(),t=e(t.parentNode).index();return[n.fnGetPosition(e("tr",this.s.dt.nTBody)[t]),r,n.oApi._fnVisibleToColumnIndex(this.s.dt,r)]}return n.fnGetPosition(t)},_fnConstruct:function(i){var u=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+s.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=e.extend(!0,this.s,s.defaults,i),i=this.s.dt.oClasses,this.dom.grid.dt=e(this.s.dt.nTable).parents("div."+i.sScrollWrapper)[0],this.dom.scroller=e("div."+i.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var a;e(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){a="main"}).on("scroll.DTFC",function(e){!a&&e.originalEvent&&(a="main"),"main"===a&&(0<u.s.iLeftColumns&&(u.dom.grid.left.liner.scrollTop=u.dom.scroller.scrollTop),0<u.s.iRightColumns)&&(u.dom.grid.right.liner.scrollTop=u.dom.scroller.scrollTop)});var f="onwheel"in n.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";0<u.s.iLeftColumns&&e(u.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){a="left"}).on("scroll.DTFC",function(e){!a&&e.originalEvent&&(a="left"),"left"===a&&(u.dom.scroller.scrollTop=u.dom.grid.left.liner.scrollTop,0<u.s.iRightColumns&&(u.dom.grid.right.liner.scrollTop=u.dom.grid.left.liner.scrollTop))}).on(f,function(e){u.dom.scroller.scrollLeft-="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX}),0<u.s.iRightColumns&&e(u.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){a="right"}).on("scroll.DTFC",function(e){!a&&e.originalEvent&&(a="right"),"right"===a&&(u.dom.scroller.scrollTop=u.dom.grid.right.liner.scrollTop,0<u.s.iLeftColumns&&(u.dom.grid.left.liner.scrollTop=u.dom.grid.right.liner.scrollTop))}).on(f,function(e){u.dom.scroller.scrollLeft-="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX}),e(t).on("resize.DTFC",function(){u._fnGridLayout.call(u)});var l=!0,c=e(this.s.dt.nTable);c.on("draw.dt.DTFC",function(){u._fnDraw.call(u,l),l=!1}).on("column-sizing.dt.DTFC",function(){u._fnColCalc(),u._fnGridLayout(u)}).on("column-visibility.dt.DTFC",function(e,t,n,i,s){if(s===r||s)u._fnColCalc(),u._fnGridLayout(u),u._fnDraw(!0)}).on("destroy.dt.DTFC",function(){c.off("column-sizing.dt.DTFC column-visibility.dt.DTFC destroy.dt.DTFC draw.dt.DTFC"),e(u.dom.scroller).off("mouseover.DTFC touchstart.DTFC scroll.DTFC"),e(t).off("resize.DTFC"),e(u.dom.grid.left.liner).off("mouseover.DTFC touchstart.DTFC scroll.DTFC "+f),e(u.dom.grid.left.wrapper).remove(),e(u.dom.grid.right.liner).off("mouseover.DTFC touchstart.DTFC scroll.DTFC "+f),e(u.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var t=this,n=0,r=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],e.each(this.s.dt.aoColumns,function(i,s){var o=e(s.nTh),u;if(o.filter(":visible").length){var f=o.outerWidth();0===t.s.aiOuterWidths.length&&(u=e(t.s.dt.nTable).css("border-left-width"),f+="string"==typeof u?1:parseInt(u,10)),t.s.aiOuterWidths.length===t.s.dt.aoColumns.length-1&&(u=e(t.s.dt.nTable).css("border-right-width"),f+="string"==typeof u?1:parseInt(u,10)),t.s.aiOuterWidths.push(f),t.s.aiInnerWidths.push(o.width()),i<t.s.iLeftColumns&&(n+=f),t.s.iTableColumns-t.s.iRightColumns<=i&&(r+=f)}else t.s.aiInnerWidths.push(0),t.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=n,this.s.iRightWidth=r},_fnGridSetup:function(){var t=this._fnDTOverflow(),n;this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var r=e('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],i=r.childNodes[0],s=r.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(r,this.dom.grid.dt),r.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=r,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=i,this.dom.grid.left.head=i.childNodes[0],this.dom.grid.left.body=i.childNodes[1],this.dom.grid.left.liner=e("div.DTFC_LeftBodyLiner",r)[0],r.appendChild(i)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=s,this.dom.grid.right.head=s.childNodes[0],this.dom.grid.right.body=s.childNodes[1],this.dom.grid.right.liner=e("div.DTFC_RightBodyLiner",r)[0],n=e("div.DTFC_RightHeadBlocker",r)[0],n.style.width=t.bar+"px",n.style.right=-t.bar+"px",this.dom.grid.right.headBlock=n,n=e("div.DTFC_RightFootBlocker",r)[0],n.style.width=t.bar+"px",n.style.right=-t.bar+"px",this.dom.grid.right.footBlock=n,r.appendChild(s)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=i.childNodes[2]),0<this.s.iRightColumns)&&(this.dom.grid.right.foot=s.childNodes[2])},_fnGridLayout:function(){var t=this.dom.grid,n=e(t.wrapper).width(),r=e(this.s.dt.nTable.parentNode).outerHeight(),i=e(this.s.dt.nTable.parentNode.parentNode).outerHeight(),s=this._fnDTOverflow(),o=this.s.iLeftWidth,u=this.s.iRightWidth,a=function(e,t){s.bar?e.style.width=t+s.bar+"px":(e.style.width=t+20+"px",e.style.paddingRight="20px",e.style.boxSizing="border-box")};s.x&&(r-=s.bar),t.wrapper.style.height=i+"px",0<this.s.iLeftColumns&&(t.left.wrapper.style.width=o+"px",t.left.wrapper.style.height="1px",t.left.body.style.height=r+"px",t.left.foot&&(t.left.foot.style.top=(s.x?s.bar:0)+"px"),a(t.left.liner,o),t.left.liner.style.height=r+"px"),0<this.s.iRightColumns&&(n-=u,s.y&&(n-=s.bar),t.right.wrapper.style.width=u+"px",t.right.wrapper.style.left=n+"px",t.right.wrapper.style.height="1px",t.right.body.style.height=r+"px",t.right.foot&&(t.right.foot.style.top=(s.x?s.bar:0)+"px"),a(t.right.liner,u),t.right.liner.style.height=r+"px",t.right.headBlock.style.display=s.y?"block":"none",t.right.footBlock.style.display=s.y?"block":"none")},_fnDTOverflow:function(){var e=this.s.dt.nTable,t=e.parentNode,n={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return e.offsetWidth>t.clientWidth&&(n.x=!0),e.offsetHeight>t.clientHeight&&(n.y=!0),n},_fnDraw:function(t){this._fnGridLayout(),this._fnCloneLeft(t),this._fnCloneRight(t),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),e(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(!(0>=this.s.iRightColumns)){var t,n=[];for(t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,n,e)}},_fnCloneLeft:function(e){if(!(0>=this.s.iLeftColumns)){var t,n=[];for(t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,n,e)}},_fnCopyLayout:function(t,n,r){for(var i=[],s=[],o=[],u=0,a=t.length;u<a;u++){var f=[];f.nTr=e(t[u].nTr).clone(r,!1)[0];for(var l=0,c=this.s.iTableColumns;l<c;l++)if(-1!==e.inArray(l,n)){var h=e.inArray(t[u][l].cell,o);-1===h?(h=e(t[u][l].cell).clone(r,!1)[0],s.push(h),o.push(t[u][l].cell),f.push({cell:h,unique:t[u][l].unique})):f.push({cell:s[h],unique:t[u][l].unique})}i.push(f)}return i},_fnClone:function(t,n,i,s){var o=this,u,a,f,l,c,h,p,v,m,g=this.s.dt;if(s){e(t.header).remove(),t.header=e(this.dom.header).clone(!0,!1)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",n.head.appendChild(t.header),v=this._fnCopyLayout(g.aoHeader,i,!0),l=e(">thead",t.header),l.empty(),u=0;for(a=v.length;u<a;u++)l[0].appendChild(v[u].nTr);g.oApi._fnDrawHead(g,v,!0)}else{v=this._fnCopyLayout(g.aoHeader,i,!1),m=[],g.oApi._fnDetectHeader(m,e(">thead",t.header)[0]),u=0;for(a=v.length;u<a;u++){f=0;for(l=v[u].length;f<l;f++)m[u][f].cell.className=v[u][f].cell.className,e("span.DataTables_sort_icon",m[u][f].cell).each(function(){this.className=e("span.DataTables_sort_icon",v[u][f].cell)[0].className})}}this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&e(">tbody>tr",o.dom.body).css("height","auto"),null!==t.body&&(e(t.body).remove(),t.body=null),t.body=e(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=g.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*g.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),e(">thead>tr",t.body).empty(),e(">tfoot",t.body).remove();var y=e("tbody",t.body)[0];e(y).empty();if(0<g.aiDisplay.length){a=e(">thead>tr",t.body)[0];for(p=0;p<i.length;p++)c=i[p],h=e(g.aoColumns[c].nTh).clone(!0)[0],h.innerHTML="",l=h.style,l.paddingTop="0",l.paddingBottom="0",l.borderTopWidth="0",l.borderBottomWidth="0",l.height=0,l.width=o.s.aiInnerWidths[c]+"px",a.appendChild(h);e(">tbody>tr",o.dom.body).each(function(t){var n=this.cloneNode(!1);n.removeAttribute("id"),t=o.s.dt.aoData[o.s.dt.oFeatures.bServerSide===!1?o.s.dt.aiDisplay[o.s.dt._iDisplayStart+t]:t].anCells||e(this).children("td, th");for(p=0;p<i.length;p++)c=i[p],t.length>0&&(h=e(t[c]).clone(!0,!0)[0],n.appendChild(h));y.appendChild(n)})}else e(">tbody>tr",o.dom.body).each(function(){h=this.cloneNode(!0),h.className=h.className+" DTFC_NoData",e("td",h).html(""),y.appendChild(h)});t.body.style.width="100%",t.body.style.margin="0",t.body.style.padding="0",g.oScroller!==r&&(a=g.oScroller.dom.force,n.forcer?n.forcer.style.height=a.style.height:(n.forcer=a.cloneNode(!0),n.liner.appendChild(n.forcer))),n.liner.appendChild(t.body),this._fnEqualiseHeights("tbody",o.dom.body,t.body);if(null!==g.nTFoot){if(s){null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=e(this.dom.footer).clone(!0,!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",n.foot.appendChild(t.footer),v=this._fnCopyLayout(g.aoFooter,i,!0),n=e(">tfoot",t.footer),n.empty(),u=0;for(a=v.length;u<a;u++)n[0].appendChild(v[u].nTr);g.oApi._fnDrawHead(g,v,!0)}else{v=this._fnCopyLayout(g.aoFooter,i,!1),n=[],g.oApi._fnDetectHeader(n,e(">tfoot",t.footer)[0]),u=0;for(a=v.length;u<a;u++){f=0;for(l=v[u].length;f<l;f++)n[u][f].cell.className=v[u][f].cell.className}}this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}n=g.oApi._fnGetUniqueThs(g,e(">thead",t.header)[0]),e(n).each(function(e){c=i[e],this.style.width=o.s.aiInnerWidths[c]+"px"}),null!==o.s.dt.nTFoot&&(n=g.oApi._fnGetUniqueThs(g,e(">tfoot",t.footer)[0]),e(n).each(function(e){c=i[e],this.style.width=o.s.aiInnerWidths[c]+"px"}))},_fnGetTrNodes:function(e){for(var t=[],n=0,r=e.childNodes.length;n<r;n++)"TR"==e.childNodes[n].nodeName.toUpperCase()&&t.push(e.childNodes[n]);return t},_fnEqualiseHeights:function(t,n,r){if("none"!=this.s.sHeightMatch||"thead"===t||"tfoot"===t){var i,s,o=n.getElementsByTagName(t)[0],r=r.getElementsByTagName(t)[0],t=e(">"+t+">tr:eq(0)",n).children(":first");t.outerHeight(),t.height();for(var o=this._fnGetTrNodes(o),n=this._fnGetTrNodes(r),u=[],r=0,t=n.length;r<t;r++)i=o[r].offsetHeight,s=n[r].offsetHeight,i=s>i?s:i,"semiauto"==this.s.sHeightMatch&&(o[r]._DTTC_iHeight=i),u.push(i);r=0;for(t=n.length;r<t;r++)n[r].style.height=u[r]+"px",o[r].style.height=u[r]+"px"}}}),s.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},s.version="3.2.0",i.Api.register("fixedColumns()",function(){return this}),i.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(e){e._oFixedColumns&&e._oFixedColumns.fnUpdate()})}),i.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(e){e._oFixedColumns&&e._oFixedColumns.fnRedrawLayout()})}),i.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(e,t){e._oFixedColumns&&e._oFixedColumns.fnRecalculateHeight(this.row(t).node())})}),i.Api.register("fixedColumns().rowIndex()",function(t){return t=e(t),t.parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[t.index()]:this.row(t).index()}),i.Api.register("fixedColumns().cellIndex()",function(t){t=e(t);if(t.parents(".DTFC_Cloned").length){var n=t.parent().index(),n=this.rows({page:"current"}).indexes()[n],t=t.parents(".DTFC_LeftWrapper").length?t.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+t.index();return{row:n,column:this.column.index("toData",t),columnVisible:t}}return this.cell(t).index()}),e(n).on("init.dt.fixedColumns",function(t,n){if("dt"===t.namespace){var r=n.oInit.fixedColumns,o=i.defaults.fixedColumns;if(r||o)o=e.extend({},r,o),!1!==r&&new s(n,o)}}),e.fn.dataTable.FixedColumns=s,e.fn.DataTable.FixedColumns=s});